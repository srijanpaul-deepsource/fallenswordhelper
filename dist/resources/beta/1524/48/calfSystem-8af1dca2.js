function e(e,n){return e||n}function n(e){return"function"==typeof e}function t(e){return void 0===e}function a(e,n,t,a){e instanceof EventTarget&&e.addEventListener(n,t,a)}function o(e){return e instanceof Error?function(e){return e.stack?function(e){const n=e.stack.replace(/\n +/g,"|")
return e.stack.includes(e.message)?n:`${e.message}|${n}`}(e):e.message?e.message:String(e)}(e):String(e)}const s=`${document.location.protocol}//${document.location.host}/`,i=window.HCS&&window.HCS.defines&&window.HCS.defines.cdn,r=[{colour:"#ffffff",clas:"fshCommon"},{colour:"#0099ff",clas:"fshRare"},{colour:"#cc00ff",clas:"fshUnique"},{colour:"#ffff33",clas:"fshLegendary"},{colour:"#cc0033",clas:"fshSuper"},{colour:"#6633ff",clas:"fshCrystal"},{colour:"#009900",clas:"fshEpic"}],c=["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth"],l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=[/<td>Attack:<\/td><td>(\d+)<\/td>/,/<td>Defense:<\/td><td>(\d+)<\/td>/,/<td>Armor:<\/td><td>(\d+)<\/td>/,/<td>Damage:<\/td><td>(\d+)<\/td>/,/<td>HP:<\/td><td>(\d+)<\/td>/],d=/<td>Last Activity:<\/td><td>(\d+)d (\d+)h (\d+)m (\d+)s<\/td>/,f=/player_id=(\d+)/,p=/item_id=(\d+)&inv_id=(\d+)/,m=/guild_id=(\d+)/,g=.2,h="joinallgroupsundersize",b="index.php",y="?cmd=",k="index.php?cmd=",w="&subcmd=",v="?cmd=notepad&blank=1&subcmd=newguildlog",L="index.php?cmd=notepad&blank=1&subcmd=newguildlog",j=`${k}auctionhouse`,S=`${j}&search=`,A=`${k}log`,P=`${A}&subcmd=doaddignore&ignore_username=`,M=`${k}profile`,C=`${M}&player_id=`,B=`${M}&subcmd=dropitems`,T=`${k}trade&target_player=`,x=`${k}trade&subcmd=createsecure&target_username=`,H=`${k}arena&subcmd=`,G="index.php?cmd=notepad&blank=1&subcmd=",O=`${G}auctionsearch`,D=`${k}points`,E=`${k}guild&subcmd=`,N=`${E}log`,I=`${E}scouttower`,R=`${E}groups&subcmd2=`,q=`${E}inventory&subcmd2=report&user=`,Q=`${E}view&guild_id=`,F=`${R}joinall`,W=`${R}joinallgroupsundersize`,_=`${k}world`,U=`${k}findplayer`,J=`${U}&search_show_first=1&search_username=`,z=`${k}blacksmith`,V=`${k}quickbuff`,K=`${k}composing`,X=`${k}attackplayer&target_username=`,Y=`${k}&subcmd=viewupdatearchive`,Z=`${k}&subcmd=viewarchive`,ee=`${k}bounty`,ne=`https://guide.fallensword.com/${k}`,te="after-update.actionlist",ae="buffs.player",oe="update.player",se="level.stats-player",ie="gold.stats-player",re="prompt.worldDialogShop",ce="keydown.controls",le="update.realm",ue="-1-success.action-response",de="1-success.action-response",fe="2-success.action-response",pe="9-success.action-response",me="5-success.action-response",ge="25-success.action-response",he=2,be=16,ye=128,ke=256,we="needToCompose",ve="lastComposeCheck",Le="characterVirtualLevel",je="enableGuildActivityTracker",Se="lastLadderReset",Ae="table",Pe="td",Me="tr",Ce="fsh_buffLog",Be="statbar-level-tooltip-general",$e="stat-level",Te="stat-defense",xe="stat-attack",He="stat-damage",Ge="stat-armor",Oe="stat-hp",De="stat-vl",Ee="GM_",Ne=["Common","Rare","Unique","Legendary","Super Elite","Crystalline"],Ie=["Helmet","Armor","Gloves","Boots","Weapon","Shield","Ring","Amulet","Rune","Quest Item","Potion","Component","Resource","Recipe","Container","Composed","Frag Stash"],Re=`${i}ui/world/action_spinner.gif`,qe=".fa-swords",Qe=".fa-envelope",Fe='a[href*="&player_id="]'
var We={lastScavPage:"",lastActiveQuestPage:"",lastNormalActiveQuestPage:"",lastNormalCompletedQuestPage:"",lastNormalNotStartedQuestPage:"",lastSeasonalActiveQuestPage:"",lastSeasonalCompletedQuestPage:"",lastSeasonalNotStartedQuestPage:"",enableLogColoring:!1,enableChatParsing:!1,enableCreatureColoring:!1,showCombatLog:!1,showCreatureInfo:!1,keepLogs:!1,showExtraLinks:!1,huntingBuffs:"Doubler,Librarian,Adept Learner,Merchant,Treasure Hunter,Animal Magnetism,Conserve",huntingBuffsName:"default",huntingBuffs2:"Deflect",huntingBuffs2Name:"PvP",huntingBuffs3:"Super Elite Slayer",huntingBuffs3Name:"SE",showHuntingBuffs:!1,moveFSBox:!1,moveDailyQuest:!1,guildSelf:"",guildSelfMessage:"Member of your own guild!",guildFrnd:"",guildFrndMessage:"Do not attack - Guild is friendly!",guildPast:"",guildPastMessage:"Do not attack - You've been in that guild once!",guildEnmy:"",guildEnmyMessage:"Enemy guild. Attack at will!",goldRecipient:"",goldAmount:"",sendGoldonWorld:!1,hideQuests:!1,hideQuestNames:"",hideRecipes:!1,hideRecipeNames:"",enableGuildInfoWidgets:!1,enableOnlineAlliesWidgets:!1,guildOnlineRefreshTime:300,hideGuildInfoSecureTrade:!1,hideGuildInfoTrade:!1,hideGuildInfoMessage:!1,hideGuildInfoBuff:!1,buyBuffsGreeting:"Hello {playername}, can I buy {buffs} for {cost} please?",renderSelfBio:!1,bioEditLines:10,renderOtherBios:!1,playNewMessageSound:!1,showSpeakerOnWorld:!1,defaultMessageSound:"https://fallenswordhelper.github.io/fallenswordhelper/audio/sms-alert-2-daniel_simon.wav",highlightPlayersNearMyLvl:!1,highlightGvGPlayersNearMyLvl:!1,detailedConflictInfo:!1,gameHelpLink:!0,enableAllyOnlineList:!1,enableEnemyOnlineList:!1,allyEnemyOnlineRefreshTime:300,moveGuildList:!1,moveOnlineAlliesList:!1,hideMatchesForCompletedMoves:!1,doNotKillList:"",enableBioCompressor:!1,currentGoldSentTotal:0,keepBuffLog:!1,buffLog:"",enableActiveBountyList:!1,bountyListRefreshTime:300,enableWantedList:!1,wantedNames:"",wantedGuildMembers:!1,bwNeedsRefresh:!0,fsboxlog:!1,fsboxcontent:"",itemRecipient:"",quickLinks:"[]",minGroupLevel:1,combatEvaluatorBias:0,huntingMode:!1,enabledHuntingMode:"1",hideRelicOffline:!1,enterForSendMessage:!1,trackKillStreak:!1,storeLastQuestPage:!1,addAttackLinkToLog:!1,showStatBonusTotal:!1,newGuildLogHistoryPages:3,useNewGuildLog:!1,enhanceChatTextEntry:!1,ajaxifyRankControls:!1,enableMaxGroupSizeToJoin:!1,maxGroupSizeToJoin:11,enableTempleAlert:!1,enableUpgradeAlert:!1,enableComposingAlert:!1,autoFillMinBidPrice:!1,showPvPSummaryInLog:!1,enableQuickDrink:!1,enhanceOnlineDots:!1,hideBuffSelected:!1,fixBuffSelected:!1,hideHelperMenu:!1,keepHelperMenuOnScreen:!0,draggableHelperMenu:!1,quickLinksTopPx:22,quickLinksLeftPx:0,draggableQuickLinks:!1,showNextQuestSteps:!0,showRecallMessages:!0,showRelicMessages:!0,showMercenaryMessages:!0,showGroupCombatMessages:!0,showDonationMessages:!0,showRankingMessages:!0,showGvGMessages:!0,showTaggingMessages:!0,showTitanMessages:!0,showQuickDropLinks:!1,onlinePlayerMinLvl:1,onlinePlayerMaxLvl:9999,arenaMinLvl:1,arenaMaxLvl:9999,showMonsterLog:!1,lastTempleCheck:0,needToPray:!1,lastChatCheck:"0",lastGuildLogCheck:"0",lastOutBoxCheck:"0",lastPlayerLogCheck:"0",showAdmin:!1,alliestotal:0,enemiestotal:0,footprints:!1,hideNonPlayerGuildLogMessages:!1,listOfAllies:"",listOfEnemies:"",contactList:"",lastUpgradeCheck:0,needToDoUpgrade:!1,characterVirtualLevel:0,guildLogoControl:!1,statisticsControl:!1,guildStructureControl:!1,lastMembrListCheck:0,showQuickSendLinks:!1,needToCompose:!1,lastComposeCheck:0,lastOnlineCheck:0,bountyList:"",wantedList:"",lowestLevelInTop250:0,quickMsg:'["Thank you very much ^_^","Happy hunting, {playername}"]',sendClasses:'["Composed Pots", "13699"], ["Amber", "5611"], ["Amethyst Weed", "9145"], ["Blood Bloom", "5563"], ["Cerulean Rose", "9156"], ["Coleoptera Body", "9287"], ["Dark Shade", "5564"], ["Deathbloom", "9140"], ["Deathly Mold", "9153"], ["Greenskin Fungus", "9148"], ["Heffle", "5565"], ["Jademare", "5566"], ["Ruby Thistle", "9143"], ["Toad Corpse","9288"], ["Trinettle", "5567"], ["Viridian Vine", "9151"], ["Mortar & Pestle", "9157"], ["Beetle Juice", "9158"]',quickSearchList:'[{"category":"Plants","searchname":"Amber","nickname":""},{"category":"Plants","searchname":"Blood Bloom","nickname":""},{"category":"Plants","searchname":"Jademare","nickname":""},{"category":"Plants","searchname":"Dark Shade","nickname":""},{"category":"Plants","searchname":"Trinettle","nickname":""},{"category":"Plants","searchname":"Heffle Wart","nickname":""},{"category":"Potions","searchname":"Sludge Brew","nickname":"DC 200","displayOnAH":true},{"category":"Potions","searchname":"Potion of Black Death","nickname":"DC 225","displayOnAH":true},{"category":"Potions","searchname":"Potion of Aid","nickname":"Assist","displayOnAH":true},{"category":"Potions","searchname":"Potion of Supreme Doubling","nickname":"DB 450","displayOnAH":true},{"category":"Potions","searchname":"Potion of Acceleration","nickname":"DB 500","displayOnAH":true},{"category":"Potions","searchname":"Potion of Lesser Death Dealer","nickname":"DD","displayOnAH":true},{"category":"Potions","searchname":"Runic Potion","nickname":"FI 250","displayOnAH":true},{"category":"Potions","searchname":"Potion of the Bookworm","nickname":"Lib 225","displayOnAH":true},{"category":"Potions","searchname":"Potion of Truth","nickname":"EW 1k","displayOnAH":true},{"category":"Potions","searchname":"Dull Edge","nickname":"DE 25","displayOnAH":true},{"category":"Potions","searchname":"Notched Blade","nickname":"DE 80","displayOnAH":true},{"category":"Potions","searchname":"Potion of Death","nickname":"DW 125","displayOnAH":true},{"category":"Potions","searchname":"Potion of Decay","nickname":"WI 150","displayOnAH":true},{"category":"Potions","searchname":"Potion of Fatality","nickname":"WI 350","displayOnAH":true},{"category":"Potions","searchname":"Potion of Annihilation","nickname":"DW 150","displayOnAH":true},{"category":"Potions","searchname":"Potion of the Wise","nickname":"Lib 200","displayOnAH":true},{"category":"Potions","searchname":"Potion of Shattering","nickname":"SA","displayOnAH":true},{"category":"Potions","searchname":"Dragons Blood Potion","nickname":"ZK 200","displayOnAH":true},{"category":"Potions","searchname":"Berserkers Potion","nickname":"ZK 300","displayOnAH":true},{"category":"Potions","searchname":"Potion of Fury","nickname":"ZK 350","displayOnAH":true},{"category":"Potions","searchname":"Potion of Supreme Luck","nickname":"FI 1k","displayOnAH":true}]',arenaMoves:"[]",arenaMatches:"[]",CombatLog:"",hideChampionsGroup:!1,hideElitesGroup:!1,hideSEGroup:!1,hideTitanGroup:!1,hideLegendaryGroup:!1,disableDeactivatePrompts:!1,moveComposingButtons:!1,expandMenuOnKeyPress:!1,disableBreakdownPrompts:!1,collapseNewsArchive:!1,collapseHallPosts:!1,lastmyGuildLogCheck:0,hideSubLvlCreature:!1,hidePlayerActions:!1,extraProfile:"",textToSearchFor:"",lastLadderReset:0,disableQuickWearPrompts:!1,enableGuildActivityTracker:!1,enableSeTracker:!1,showTitanInfo:!1,highlightPvpProtection:!1,showBuffInfo:!1,enableHistoryCompressor:!1,enableStamBars:!1,appBad:[0,!1],ajaxifyDestroy:!1,statBarLinks:!1,staminaCalculator:!1,levelUpCalculator:!1,resizeQuickBuff:!1,joinAllLink:!1,pageTwoLinks:!1,addUfsgLinks:!1,trackLadderReset:!1,addServerNode:!1,addScoutTowerLink:!1,storeLastScavPage:!1,recipeManagerLink:!1,medalGuideLink:!1,inventoryManagerLink:!1,buffLogLink:!1,combatLogLink:!1,creatureLogLink:!1,quickLinksLink:!1,auctionSearchLink:!1,onlinePlayersLink:!1,findOtherLink:!1,findBuffsLink:!1,guildInventoryLink:!1,newGuildLogLink:!1,topRatedLink:!1,enableMessageTemplates:!1,wrapGuildChat:!1,colorPlayerNames:!1,addIgnoreLink:!1,changeButtonLabels:!1,fastDebuff:!1,countAllyEnemy:!1,fixFolderImages:!1,componentWidgets:!1,quickWearLink:!1,selectAllLink:!1,nekidButton:!1,ajaxifyProfileSections:!1,injectBuffGuide:!1,statisticsWrap:!1,showGuildRelationship:!1,showQuickButtons:!1,showBuffLevel:!1,enableItemColoring:!1,checkAllOfType:!1,enableFolderFilter:!1,moveXmasBox:!1,lastPrivateMsgCheck:0,lastLeaderCheck:0,privateMsgButtons:!1,optInOnLadderPage:!1,betaOptIn:!1,lastBetaWarning:0}
const _e=[["S]",e=>e.substr(2)],["N]",e=>parseInt(e.substr(2),10)],["B]",e=>"true"===e.substr(2)]]
function Ue(e,n){const a=window.localStorage.getItem("GM_"+e)
return null===a||t(a)?n:function(e){const n=_e.find((n=>e.startsWith(n[0])))
return n?n[1](e):e}(a)}function Je(e){return Ue(e,We[e])}const ze=["keeprefreshing.com","lazywebtools.co.uk","pagereboot.com","refreshthing.com","refreshthis.com"]
let Ve=!1,Ke=!1
function Xe(){if(!Ke){const e=document.referrer.match(/^https?:\/\/([^/?#]+)(?:[/?#]|$)/i)
let n
e&&([,n]=e),Ve=ze.includes(n),Ke=!0}return Ve}function Ye(){return Xe()||t(window.ga)}function Ze(e,n){Je("betaOptIn")&&console.log("sendException",e),Ye()||ga("fshApp.send","exception",{exDescription:e,exFatal:n})}const en=[null]
function nn(e,n){return en[e]&&en[e].priority<en[n].priority}function tn(e,n){const t=en[e]
en[e]=en[n],en[n]=t}function an(e,n){return e?2*n:2*n+1}function on(){if(1===en.length)return
const e=en[1].data,n=en.pop()
return en.length>1&&(en[1]=n,function(e){let n=e
for(;2*n<en.length;){const e=an(!nn(2*n+1,2*n),n)
if(nn(n,e))break
tn(n,e),n=e}}(1)),e}function sn(e,n){!function(e){let n=e
for(;n>1;){const e=n>>1
if(!nn(n,e))break
tn(n,e),n=e}}(en.push({data:e,priority:n})-1)}let rn=!0
let cn
function ln(){en.length-1==0?rn=!0:(rn=!1,window.postMessage("fshMessage","*"))}function un(){const e=on()
var a
n(e)?e():t(a=e)||Ze(`pop() was not a function (${typeof a})`,!1)}function dn(e){const n=e.data
"string"==typeof n&&0===n.indexOf("fshMessage")&&function(){try{un()}catch(e){Ze(o(e),!1)}finally{ln()}}()}function fn(t,o,s,i){if(n(o)){cn||(a(window,"message",dn),cn=!0)
const n=e(i,window),r=e(s,[])
sn(o.bind(n,...r),t),rn&&ln()}}var pn={}
function mn(e){return"boolean"==typeof e}function gn(e,n,t,o){var s
a(e,n,t,{once:!0,...(s=o,mn(s)?{capture:s}:s)})}function hn(e,...n){return(...t)=>e(...n,...t)}let bn,yn,kn,wn,vn,Ln,jn,Sn,An,Pn,Mn,Cn
function Bn(e){yn=e.clientX,kn=e.clientY}function $n(){const e=function(e){if("none"===e)return[0,0]
const n=e.match(/(\d+), (\d+), (\d+), (\d+), (-?\d+), (-?\d+)/)
return[Number(n[5]),Number(n[6])]}(window.getComputedStyle(bn,null).transform)
wn=e[0]-yn,vn=e[1]-kn}function Tn(e){e.clientX===yn&&e.clientY===kn||(bn.style.transform=`matrix(1, 0, 0, 1, ${(e.clientX+wn).toString()}, ${(e.clientY+vn).toString()})`,Bn(e))}function xn(e){return function(e){const n=performance.now()
n-Ln>16&&(Tn(e),Ln=n)}(e),e.preventDefault(),!1}function Hn(e){return Tn(e),function(e,n,t,a){e instanceof EventTarget&&e.removeEventListener(n,t,a)}(document.body,"dragover",xn),e.preventDefault(),!1}function Gn(e,n){!function(e,n){bn=e||n.target}(e,n),function(e){const n=new Image
n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=",e.dataTransfer.setDragImage(n,0,0)}(n),Bn(n),$n(),Ln=0,n.dataTransfer.setData("text/plain",""),a(document.body,"dragover",xn),gn(document.body,"drop",Hn)}function On(e,n){e.draggable=!0,a(e,"dragstart",hn(Gn,n))}function Dn(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function En(e,n){return n?n.getElementById(e):document.getElementById(e)}function Nn(e,n){try{return JSON.parse(e,n)}catch(e){}}function In(e,n){if("string"==typeof n){const e=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(n)
if(e)return new Date(Date.UTC(Number(e[1]),Number(e[2])-1,Number(e[3]),Number(e[4]),Number(e[5]),Number(e[6])))}return n}function Rn(e){const n=Je(e)
let t
return n&&(t=Nn(n,In)),t}function qn(e,n,t){e instanceof Element&&e.insertAdjacentHTML(n,t)}function Qn(e,n){qn(e,"beforeend",n)}function Fn(e,n,t){return e?n:t}function Wn(e){if(function(e){return!("newWindow"in e)||!e.url||!e.name}(e))return""
const n=Fn(e.newWindow,' target="new"',"")
return`<li><a href="${Dn(e.url)}"${n}>${e.name}</a></li>`}function _n(e){const n=Je("draggableQuickLinks"),t=`<div style="top:${Je("quickLinksTopPx")}px; left:${Je("quickLinksLeftPx")}px;" id="fshQuickLinks" class="fshQuickLinks fshInnerBg${a="keepHelperMenuOnScreen",o=" fshFixed",s="",Fn(Je(a),o,s)}${Fn(n," fshMove","")}">${function(e){return e.map(Wn).join("")}(e)}</div>`
var a,o,s
Qn(document.body,t),function(e){e&&On(En("fshQuickLinks"))}(n)}function Un(){En("statbar-container")&&function(){const e=Rn("quickLinks")||[]
e.length>0&&_n(e)}()}function Jn(e,n){return new URLSearchParams(e).get(n)}function zn(e){return Jn(decodeURIComponent(window.location.search),e)}function Vn(e,n){if(n)return function(e,n){const t=o(n)
if(t.includes("calfSystem"))return Ze(e+t,!0),!0}(e,n)}function Kn(e){Vn("window onerror ",e.error)}function Xn(e){Vn("Uncaught (in promise) ",e.reason)&&e.preventDefault()}const Yn=(e,n)=>Array.from(e,n)
function Zn(e,n){return n?n.getElementsByTagName(e):document.getElementsByTagName(e)}function et(e,n){return Yn(Zn(e,n))}function nt(e){if(e instanceof Node)return e.textContent}function tt(e){return"string"==typeof e}function at(e){if(tt(nt(e)))return nt(e).trim()}function ot(e,n){return at(n).includes(e)}function st(){et("a",Pn).filter(hn(ot,"message")).length&&Qn(document.body,`<audio src="${Je("defaultMessageSound")}" autoplay=true />`)}function it(e){return"object"==typeof e}function rt(e){return new Promise((n=>{const t=document.createElement("link")
t.type="text/css",t.rel="stylesheet",t.onload=()=>{n()},t.href=e,document.body.appendChild(t)}))}function ct(e){$("#dialog_msg").html(e).dialog("open")}function lt(e,n){return at(n)===e}function ut(e){return hn(lt,e)}function dt(e,n){return n?n.querySelectorAll(e):document.querySelectorAll(e)}function ft(e,n){return Yn(dt(e,n))}function pt(e,n){n instanceof Element&&(n.innerHTML=String(e))}function mt(e){pt(`<a href="${k}settings">Game Help</a>`,e)}function gt(){ft("#pCR h3").filter(ut("Game Help")).forEach(mt)}const ht=e=>Object.entries(e)
function bt(e,n,t){it(t[1])&&null!==t[1]?e(n[t[0]],t[1]):n[t[0]]=t[1]}function yt(e,n){ht(n).forEach(hn(bt,yt,e))}function kt(e,n){const t=document.createElement(e)
return n&&yt(t,n),t}function wt(e){return kt("div",e)}async function vt(e){(await e).default()}const Lt=()=>{vt(import("./bioWidgets-afacbfc0.js"))},jt=()=>{vt(import("./guild-c64239fa.js"))},St=()=>{vt(import("./profile-5e47c648.js").then((function(e){return e.p})))},At=()=>{vt(import("./injectQuestBookFull-17fc651a.js"))},Pt=()=>{vt(import("./inventing-1f34024b.js"))},Mt=()=>{vt(import("./news-1a3a9552.js"))},Ct=()=>{vt(import("./ufsgAllowBack-469a65ac.js"))},Bt=()=>{vt(import("./viewArchive-da7ebad1.js"))},$t=e=>{import("./injectBuffLog-c7837a5d.js").then((n=>n.default(e)))},Tt=e=>{import("./injectFsBoxContent-faaef74f.js").then((n=>n.default(e)))},xt=e=>{import("./monstorLog-d7b03b3c.js").then((n=>n.default(e)))},Ht=e=>{import("./combatLog-c4e2e60e.js").then((n=>n.default(e)))},Gt=e=>{import("./injectOnlinePlayers-a0c22921.js").then((n=>n.default(e)))},Ot=e=>{import("./recipeMgr-8bdd127d.js").then((n=>n.default(e)))},Dt=e=>{import("./quickExtract-3bee19c7.js").then((n=>n.default(e)))},Et=e=>{import("./quickWear-5e0ec1dd.js").then((n=>n.default(e)))},Nt=e=>{import("./lists-6c0efcb8.js").then((n=>n.injectAuctionSearch(e)))},It=e=>{import("./lists-6c0efcb8.js").then((n=>n.injectQuickLinkManager(e)))},Rt=e=>{import("./findBuffs-e5c1cf60.js").then((n=>n.injectFindBuffs(e)))},qt=e=>{import("./findBuffs-e5c1cf60.js").then((n=>n.injectFindOther(e)))}
var Qt={"Buff Log":$t,"Combat Log":Ht,"Creature Log":xt,"Recipe Manager":Ot,"Quick Links":It,"Find Buffs":Rt,"Find Other":qt,"Online Players":Gt,"AH Quick Search":Nt,"Quick Extract":Dt,"Quick Wear":Et,"FS Box Log":Tt}
const Ft=`<div class="helperMenuColumn"><div class="helperMenuSectionHeader">Character</div><ul><li><span class="fshLink">Buff Log</span></li><li><span class="fshLink">Combat Log</span></li><li><span class="fshLink">Creature Log</span></li><li><span class="fshLink">Recipe Manager</span></li><li><span class="fshLink">Quick Links</span></li><li><a href="${G}invmanagernew">Inventory Manager</a></li></ul><div class="helperMenuSectionHeader">Actions</div><ul><li><span class="fshLink">Find Buffs</span></li><li><span class="fshLink">Find Other</span></li><li><span class="fshLink">Online Players</span></li><li><span class="fshLink">AH Quick Search</span></li></ul><div class="helperMenuSectionHeader">Guild</div><ul><li><a href="${G}guildinvmgr">Guild Inventory</a></li><li><a href="${L}">New Guild Log</a></li></ul><div class="helperMenuSectionHeader">Extra</div><ul><li><span class="fshLink">Quick Extract</span></li><li><span class="fshLink">Quick Wear</span></li><li><span class="fshLink">FS Box Log</span></li></ul>`,Wt=`<div class="helperMenuSectionHeader">Beta Features</div><ul><li><a href="${G}reliclist">Relic List</a><sup class="fshRed">beta</sup></li></ul>`,_t=`<div class="helperMenuSectionHeader">FSH developer quick links</div><ul><li><span class="helperMenuReply" target_player="PointyHair">PM</span> <a href="${C}1963510">PointyHair</a></li></ul></div>`
function Ut(e,n){return n.classList.contains(e)}function Jt(e,n){return e instanceof Node&&n instanceof Node&&e.appendChild(n),n}function zt(e){let n=En("content")
n?pt("",n):(n=wt({id:"content",style:{display:"none"}}),Jt(document.body,n)),$(n).dialog({width:640,modal:!0,position:{my:"top",at:"top",offset:"0 60",collision:"none"},resizable:!1}),e(n)}function Vt(){return n(window.jQuery)}function Kt(e,n,t){a(e,"click",n,t)}function Xt(e,n,t){Ye()||ga("fshApp.send","event",e,n,t)}function Yt(e){if("helperMenu"!==e.target.id)return
e.target.children[0].classList.toggle("helperMenuShow")}function Zt(e){Ut("fshLink",e.target)?function(e){const t=nt(e.target),a=Qt[t]
Vt()&&n(a)&&(Xt("helperMenu",t),zt(a))}(e):Ut("helperMenuReply",e.target)&&window.openQuickMsgDialog(e.target.getAttribute("target_player"))}function ea(e){const n=e.target,t=wt({className:"helperMenuDiv fshInnerBg",id:"helperMenuDiv",innerHTML:`${Ft}${Je("betaOptIn")?Wt:""}${_t}`})
Jt(n,t),Kt(n,Yt),Kt(t,Zt)}function na(){En("statbar-container")&&function(){const e=wt({id:"helperMenu",className:"helperMenu",innerHTML:"Helper&nbsp;Menu"})
Je("keepHelperMenuOnScreen")&&e.classList.add("helperMenuFixed"),gn(e,"mouseenter",ea),Je("draggableHelperMenu")&&(e.classList.add("helperMenuMove"),On(e)),Jt(document.body,e)}()}function ta(e){pn[e]=Je(e)}function aa(e){e.forEach((e=>fn(3,e)))}function oa(e){return Object.fromEntries(e)}function sa(){return!Vt()}function ia(e,n){return n?n.querySelector(e):document.querySelector(e)}function ra(e){return function(e){return-1!==e&&0===ia(`#nav li.nav-level-0:nth-child(${e+1}) ul`).offsetHeight}(e)?(Xt("accordion","collapse"),-1):e}function ca(e){if(function(e){if(it(e))return!0
Ze("$('#nav').data('hcsNav') is not an object",!1)}(e)&&function(e){if("heights"in e)return!0
Ze("$('#nav').data('hcsNav').heights does not exist",!1)}(e))return!0}var la=["recipeManagerLink","medalGuideLink","inventoryManagerLink","buffLogLink","combatLogLink","creatureLogLink","quickLinksLink","auctionSearchLink","onlinePlayersLink","findOtherLink","findBuffsLink","guildInventoryLink","newGuildLogLink","topRatedLink"]
function ua(){!function(){const e=Je("lastActiveQuestPage")
Je("storeLastQuestPage")&&e.length>0&&(En("nav-character-questbook").href=e)}(),function(){const e=Je("lastScavPage")
Je("storeLastScavPage")&&e.length>0&&(En("nav-actions-artisanship-scavenging").href=e)}()}function da(){const[e,n]=function(){const e=En("nav"),n=$(e).data("hcsNav")
return n&&ca(n)?[e,n]:[]}()
e&&n&&(ua(),function(e,n){const t=la.map((e=>[e,Je(e)]))
t.some((([,e])=>e))&&import("./injectItems-5b33f688.js").then((a=>a.default(e,n,oa(t))))}(e,n),function(e){const n=e._saveState
e._saveState=function(t){n.call(e,ra(t))}}(n))}function fa(e,n){return n?n.getElementsByClassName(e):document.getElementsByClassName(e)}let pa,ma,ha,ba,ya,ka,wa
function va(){return pa||(pa=En("quickMessageDialog")),pa}function La(e,n){n instanceof Node&&(n.textContent=String(e))}function ja(n){(function(){if(!ma){const e=fa("validateTips",va())
1===e.length&&([ma]=e)}return ma})()&&La(e(n,""),ma)}function Sa(){return ha||(ha=En("quickMsgDialog_msg"),ha.maxLength=512),ha}function Aa(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),function(){if(!ka){const e=$(va()).dialog("option","buttons")
ka=e["Send Message"]}return ka}()())}function Pa(){t(ba)&&(ba=Je("enterForSendMessage")),ba&&!ya&&(a(Sa(),"keypress",Aa),ya=!0)}function Ma(e,n){return Ut(n[0],e)}function Ca(e,n,t){const{target:a}=t,o=n.find(hn(e,a))
if(o)return o[1](a)}function Ba(e){return hn(Ca,Ma,e)}function $a(e,n,t){Modernizr&&Modernizr.localstorage&&window.localStorage.setItem("GM_"+e,n+t)}const Ta=[[tt,(e,n)=>{$a(e,"S]",n)}],[function(e){return"number"==typeof e},(e,n)=>{n.toString().indexOf(".")<0&&$a(e,"N]",n)}],[mn,(e,n)=>{$a(e,"B]",n)}]]
function xa(e,n){const t=Ta.find((e=>e[0](n)))
t&&t[1](e,n)}function Ha(e,n){xa(e,JSON.stringify(n))}let Ga,Oa,Da
function Ea(e,n,t){const a=Oa.insertRow(e)
let o=a.insertCell(-1)
Qn(o,n),o=a.insertCell(-1),Qn(o,t)}function Na(e,n){return`<button class="fshButton ui-corner-all ${e}-button">${n}</button>`}function Ia(e,n){Ea(e,Na("del","Del"),`<span class="ui-widget-content fshBlck add-template">${n}</span>`)}const Ra=[["del-button",function(e){const n=e.parentNode.parentNode.rowIndex
Oa.deleteRow(n),Ga.splice(n-2,1),Ha("quickMsg",Ga)}],["add-button",function(e){const n=e.parentNode.nextElementSibling.children[0],t=n.value
if(""!==t){Ia(e.parentNode.parentNode.rowIndex,t),n.value="",Ga.push(t),Ha("quickMsg",Ga)}}],["add-template",function(e){Sa().value+=`${nt(e).replace(/\{playername\}/g,wa)}`}]]
function qa(e){Ia(-1,e)}function Qa(){Je("enableMessageTemplates")&&!Da&&(Kt((Oa||(Oa=va().lastElementChild),Oa),Ba(Ra)),(Ga||(Ga=Rn("quickMsg")),Ga).forEach(qa),Ea(-1,Na("add","Add"),'<input id="newTmpl" class="ui-widget-content fshTmpl">'),Da=!0)}function Fa(n,t,a){const o=va()
Ut("ui-dialog-content",o)&&(!function(e){wa=e,La(e,En("quickMsgDialog_targetUsername"))}(n),function(n){const t=Sa()
t.value=e(n,""),t.disabled=!1}(t),ja(a),Qa(),Pa(),$(o).dialog("open"))}function Wa(e){import("./moveRHSBoxUpOnRHS-22c489e5.js").then((n=>n.default(e)))}function _a(e){import("./moveRHSBoxToLHS-9edeb25e.js").then((n=>n.default(e)))}const Ua=[function(){Je("moveGuildList")&&Wa("minibox-guild")},function(){Je("moveOnlineAlliesList")&&Wa("minibox-allies")},function(){Je("moveXmasBox")&&_a("minibox-xmas")},function(){Je("moveDailyQuest")&&_a("minibox-daily-quest")},function(){Je("moveFSBox")&&_a("minibox-fsbox")},function(){(pn.enableAllyOnlineList||pn.enableEnemyOnlineList)&&vt(import("./allyEnemy-39876bf9.js"))},function(){(pn.enableWantedList||pn.enableActiveBountyList)&&vt(import("./activeWantedBounties-f98ac21f.js"))},function(){pn.enableGuildInfoWidgets&&vt(import("./addGuildInfoWidgets-f3df900d.js"))},function(){pn.enableOnlineAlliesWidgets&&vt(import("./addOnlineAlliesWidgets-9454a76d.js"))},function(){pn.enableTempleAlert&&vt(import("./injectTempleAlert-9be924a7.js"))},function(){pn.enableUpgradeAlert&&vt(import("./injectUpgradeAlert-3e20e9b9.js"))},function(){pn.enableComposingAlert&&vt(import("./injectComposeAlert-f16d0f70.js"))},function(){Pn&&!sa()&&da()},function(){sa()||(window.openQuickMsgDialog=Fa)},function(){Je("statBarLinks")&&vt(import("./statBar-f316507f.js"))},function(){Je("staminaCalculator")&&vt(import("./injectStaminaCalculator-70023fca.js"))},function(){Je("levelUpCalculator")&&vt(import("./injectLevelupCalculator-779d9940.js"))},function(){Je("fsboxlog")&&vt(import("./injectFSBoxLog-ce5d5d4e.js"))},function(){Je("resizeQuickBuff")&&vt(import("./interceptQuickBuff-bc0d2b57.js"))},function(){Je("joinAllLink")&&vt(import("./injectJoinAllLink-37264d8d.js"))},function(){Je("useNewGuildLog")&&vt(import("./changeGuildLogHREF-046f1cd1.js"))},function(){Je("addServerNode")&&vt(import("./injectServerNode-ce4aaf8f.js"))},function(){Je("addScoutTowerLink")&&vt(import("./scoutTowerLink-8b898acc.js"))},function(){Vt()&&Je("enableGuildActivityTracker")&&vt(import("./guildActivity-92f7f74d.js"))},function(){Vt()&&pn.enableSeTracker&&"superelite"!==pn.cmd&&import("./seLog-2b0eee9f.js").then((e=>e.seLog()))}]
const Ja=["enableAllyOnlineList","enableEnemyOnlineList","enableGuildInfoWidgets","enableOnlineAlliesWidgets","enableSeTracker","hideGuildInfoTrade","hideGuildInfoSecureTrade","hideGuildInfoBuff","hideGuildInfoMessage","hideBuffSelected","fixBuffSelected","enableTempleAlert","enableUpgradeAlert","enableComposingAlert","enableActiveBountyList","enableWantedList","wantedGuildMembers","enableMaxGroupSizeToJoin","maxGroupSizeToJoin"]
function za(){pn.huntingMode||(Ja.forEach(ta),pn.allyEnemyOnlineRefreshTime=1e3*Je("allyEnemyOnlineRefreshTime"),aa(Ua))}function Va(e){Je("expandMenuOnKeyPress")&&localStorage.setItem("hcs.nav.openIndex",e)}function Ka(e){Xt("keyHandler",e)}function Xa(e){window.location=e}function Ya(e,n,...t){return e(...t)}function Za(e){return e.toLowerCase()}function eo(e,n){return Za(e)<Za(n)?-1:Za(e)>Za(n)?1:0}function no(e){return Object.keys(e)}function to(e,n,t,a){it(n[a])&&null!==n[a]?e[a]=t(n[a].constructor(),n[a]):e[a]=n[a]}function ao(e,n){return it(n)&&no(n).forEach(hn(to,e,n,ao)),e}function oo(e){return e.data?(delete e.data.fshrnd,$.param(e.data)):e.url}class so extends Error{constructor([e,n,t,a],...o){super(function(e,n,t,a){const o=`${n.status} ${n.statusText} - `
if(n.statusText===a.toString())return o+oo(e)
const s=`${o+t} ${a} - ${oo(e)}`
return"parsererror"===t?`${s} - ${n.responseText}`:s}(e,n,t,a),...o),Error.captureStackTrace&&Error.captureStackTrace(this,so),this.jqSettings=e,this.jqXhr=n,this.jqTextStatus=t,this.jqErrorThrown=a}}let io,ro=!0,co=[]
function lo(e){e.abort(),co=[]}function uo(e){a(window,"beforeunload",hn(lo,e))}const fo=[0,503,504],po=["abort"],mo=["We have encountered an issue with a server connection","We're performing maintenance on the game","the team have been notified and will get it fixed soon","uUDRezBqFM4"]
function go(e,n){(function(e){return fo.includes(e.jqXhr.status)||po.includes(e.jqTextStatus)||mo.some((n=>e.jqXhr.responseText.includes(n)))})(n)||(Ze(n.toString(),!1),e(void 0))}function ho(e,n,t,a){const o=function(e){return"string"==typeof e?{url:e}:e}(e)
return o.beforeSend=uo,$.ajax(o).then(t).catch(function([e,n,t,a,o]){return function(s,i,r){t>0&&503===s.status?setTimeout(e,100,n,t-1,a,o):go(a,new so([n,s,i,r]))}}([ho,o,n,t,a]))}function bo(){var e
0===co.length?ro=!0:(ro=!1,e=bo,$.active<5&&(ho(...co.shift()),e()))}function yo(e){if(io||($(document).ajaxComplete(bo),io=!0),e)return new Promise(((n,t)=>{!function(e,n,t,a){co.push([e,n,t,a]),ro&&bo()}(e,10,n,t)}))}function ko(e){return yo({url:"app.php",data:ao(e,{browser:1,v:9}),dataType:"json"})}function wo(e){return ko(ao({cmd:"profile"},e))}async function vo(){const e=await wo({subcmd:"viewcombatset"})
return{...e,r:e.r.sort(((e,n)=>eo(e.name,n.name)))}}function Lo(e){return(new DOMParser).parseFromString(e,"text/html")}function jo(e){return yt(e,{url:"index.php",data:{no_mobile:1}}),yo(e)}function So(e){return jo({data:e})}const Ao=[(e,n)=>n,(e,n)=>n.s,(e,n)=>n.r,(e,n)=>n.r.length>e],Po=(e,n,t)=>t(e,n)
async function Mo(e){const n=await Ya(vo)
if(((e,n)=>Ao.every(hn(Po,e,n)))(e,n)){Ka("changeCombatSet")
const t=n.r[e].id
Va("2"),Xa(`${M+"&subcmd="}managecombatset&submit=Use&combatSetId=${t}`)}}function Co(e,n){En("worldPage")||(Ka(e),Xa(n))}function Bo(e){const n=En("info-msg",e)
if(n){const e=n.innerHTML
return e?e.replace(/<br.*/,""):""}}function $o(e){return Bo(Lo(e))}let To
function xo(){To=Je("sendGoldonWorld")}function Ho(e){const n=$o(e)
"You successfully sent gold!"!==n&&""!==n||(xa("currentGoldSentTotal",parseInt(Je("currentGoldSentTotal"),10)+parseInt(Je("goldAmount"),10)),GameData.fetch(1))}function Go(){To&&So({cmd:"trade",subcmd:"sendgold",xc:window.ajaxXC,target_username:$("#HelperSendTo").html(),gold_amount:$("#HelperSendAmt").html().replace(/[^\d]/g,"")}).then(Ho)}function Oo(){pn.enableMaxGroupSizeToJoin?Xa(W):Xa(F)}function Do(){Ka("logPage"),Va("2"),Xa(A)}function Eo(e){e instanceof Element&&e.click()}function No(e){const n=ia(`#pCC input[value="${e}"]`)
n&&(Ka("movePage"),Eo(n))}const Io=[["!",Mo,0],["@",Mo,1],['"',Mo,1],["#",Mo,2],["Â£",Mo,2],["$",Mo,3],["%",Mo,4],["^",Mo,5],["&",Mo,6],["*",Mo,7],["(",Mo,8],["0",function(){Co("toWorld",_)}],["<",No,"<"],[">",No,">"],["G",function(){Ka("createGroup"),Va("4"),Xa(`${R}create`)}],["L",Do],["b",function(){Ka("backpack"),Va("2"),Xa(B)}],["g",function(){Ka("gotoGuild"),Va("4"),Xa(`${E}manage`)}],["j",function(){Ka("joinAllGroup"),Va("4"),Oo()}],["l",Do],["p",function(){Ka("profile"),Va("2"),Xa(M)}],["r",function(){Co("doRepair",z+"&subcmd="+"repairall")}],["v",function(){"dialogIsClosed"in pn&&!pn.dialogIsClosed()||(Ka("insertQuickWear"),zt(Et))}],["y",Go]]
const Ro=[e=>["HTML","BODY"].every((n=>e.target.tagName!==n)),e=>e.ctrlKey,e=>e.metaKey,e=>e.altKey]
function qo(e){var n;(n=e,Ro.some((e=>e(n))))||function(e){const n=Io.find((([n])=>e===n))
n&&n[1](n[2])}(e.key)}function Qo(){a(document,"keyup",qo)}function Fo(){Je("gameHelpLink")&&fn(3,gt),pn.huntingMode=Je("huntingMode"),fn(3,Qo),za(),Je("hideHelperMenu")||fn(3,na),function(){const e=Je("lastBetaWarning")
5===pn.fshVer.length&&e<An-86400&&(ct('<b>Beta version is deprecated.</b><br>There is a new user preference in<br>settings for Beta Program Opt-In.<br>Please install normal FSH here:<br><a href="https://fallenswordhelper.github.io/fallenswordhelper/Releases/Current/fallenswordhelper.user.js">https://fallenswordhelper.github.io/<br>fallenswordhelper/Releases/Current/<br>fallenswordhelper.user.js</a>'),xa("lastBetaWarning",An),Xt("Beta Warning","Warn"))}()}function Wo(){const e=function(){const e=En("html")
if(e&&e.dataset)return e.dataset.hcs}()
e&&function(e){const n=Nn(e)
n&&n["new-ui"]&&Fo()}(e)}const _o=()=>{vt(import("./guildAdvisor-556a9019.js"))}
const Uo=()=>{vt(import("./groups-d21812ee.js"))}
const Jo=()=>{vt(import("./injectGuildAddTagsWidgets-3fad0d53.js"))}
const zo=()=>{vt(import("./guildChat-5d1db35d.js"))}
const Vo=()=>{vt(import("./inventory-a512932a.js"))}
function Ko(e){$(e).qtip("hide")}function Xo(e,n){qn(e,"afterbegin",n)}function Yo(e){xa("needToPray",e),xa("lastTempleCheck",(new Date).setUTCHours(23,59,59,999)+1)}const Zo=`<li class="notification"><span id="helperPrayToGods" class="fastPray"><table><tbody><tr><td><span class="fshTempleZero" data-tooltip="Pray to Sahria" praytype="0"></span></td><td><span class="fshTempleOne" data-tooltip="Pray to Osverin" praytype="1"></span></td></tr><tr><td><span class="fshTempleTwo" data-tooltip="Pray to Gurgriss" praytype="2"></span></td><td><span class="fshTempleThree" data-tooltip="Pray to Lindarsil" praytype="3"></span></td></tr></tbody></table><a href="${k}temple"><p class="notification-content">Bow down to the gods</p></a></span></li>`
function es(){En("helperPrayToGods").outerHTML='<span class="notification-icon"></span><p class="notification-content">You are currently praying at the temple.</p>',Yo(!1)}function ns(e){const n=e.target.getAttribute("praytype")
n&&(So({cmd:"temple",subcmd:"pray",type:n}).then(es),Ko(e.target))}function ts(){Xo(En("notifications"),Zo),gn(En("helperPrayToGods"),"click",ns)}function as(e){pn.enableTempleAlert&&function(e){let n
n="temple"!==pn.cmd?Lo(e):document
let t=!1
ia('input[value="Pray to Osverin"]',n)&&(ts(),t=!0),Yo(t)}(e)}const os=()=>{vt(import("./scavenging-34a6947f.js"))}
const ss=()=>{vt(import("./toprated-43290e37.js"))}
const is=()=>{vt(import("./trade-a7a1a01d.js"))}
const rs=()=>{vt(import("./craftForge-b29baf2a.js"))}
var cs={settings:{"-":{"-":()=>{vt(import("./injectSettings-2b9bcece.js"))}}},world:{"-":{"-":function(){Vt()&&En("worldPage")&&window.GameData&&vt(import("./newMap-dc35d1ab.js"))}}},news:{fsbox:{"-":()=>{vt(import("./newsFsbox-c59ce4ef.js"))}},"-":{"-":Mt},shoutbox:{"-":()=>{vt(import("./newsShoutbox-c4377baa.js"))}},viewupdatearchive:{"-":Bt},viewarchive:{"-":Bt}},arena:{"-":{"-":()=>{vt(import("./arena-0a52c00e.js").then((function(e){return e.b})))}},dojoin:{"-":()=>{vt(import("./arenaDoJoin-100b23a5.js"))}},join:{"-":()=>{vt(import("./arenaJoin-81f4ff41.js"))}},completed:{"-":()=>{vt(import("./completedArenas-0b116250.js"))}},pickmove:{"-":()=>{vt(import("./store-94fbcc72.js"))}},setup:{"-":()=>{vt(import("./setup-4167d2ec.js"))}}},questbook:{"-":{"-":At},atoz:{"-":At},viewquest:{"-":()=>{vt(import("./injectQuestTracker-e8e63fc0.js"))}}},profile:{"-":{"-":St},managecombatset:{"-":St},report:{"-":St},equipitem:{"-":St},useitem:{"-":St},changebio:{"-":Lt},dropitems:{"-":()=>{vt(import("./injectProfileDropItems-78bab2a9.js"))}}},auctionhouse:{"-":{"-":()=>{vt(import("./injectAuctionHouse-8a86a6e1.js"))}},quickcreate:{"-":()=>{vt(import("./quickCreate-2fbae0b7.js"))}}},guild:{inventory:{report:()=>{vt(import("./guildReport-b358d8a1.js"))},addtags:Jo,removetags:Jo,storeitems:()=>{vt(import("./storeitems-e7d24e29.js"))}},chat:{"-":zo},dochat:{"-":zo},log:{"-":()=>{vt(import("./guildLog-c30e3138.js"))}},groups:{viewstats:()=>{vt(import("./injectGroupStats-901ad6ce.js"))},joinallgroupsundersize:Uo,joinall:Uo,"-":Uo},manage:{"-":jt},advisor:{"-":_o,weekly:_o},history:{"-":Lt},view:{"-":jt},scouttower:{"-":()=>{vt(import("./injectScouttower-1f4c6c4a.js"))}},mailbox:{"-":()=>{vt(import("./guildMailbox-4f5c32dc.js"))}},ranks:{"-":()=>{vt(import("./rank-778c3bf3.js"))}},conflicts:{rpupgrades:()=>{vt(import("./injectRPUpgrades-2d0f9522.js"))}},bank:{"-":()=>{vt(import("./injectGuildBank-56fbb8c3.js"))}},hall:{"-":()=>{vt(import("./hall-09022e70.js"))},post:Lt}},bank:{"-":{"-":()=>{vt(import("./injectBank-c38a8898.js"))}}},log:{"-":{"-":()=>{vt(import("./playerLog-3ae2562c.js"))}}},potionbazaar:{"-":{"-":()=>{vt(import("./bazaar-e65e4543.js"))}}},marketplace:{createreq:{"-":()=>{vt(import("./marketplace-8d4330dc.js"))}}},quickbuff:{"-":{"-":()=>{vt(import("./quickBuff-7b6867cc.js"))}}},notepad:{showlogs:{"-":Ht},invmanagernew:{"-":Vo},guildinvmgr:{"-":Vo},recipemanager:{"-":Ot},auctionsearch:{"-":Nt},onlineplayers:{"-":Gt},quicklinkmanager:{"-":It},monsterlog:{"-":xt},quickextract:{"-":Dt},quickwear:{"-":Et},fsboxcontent:{"-":Tt},bufflogcontent:{"-":$t},newguildlog:{"-":()=>{vt(import("./newGuildLog-49e0135e.js"))}},findbuffs:{"-":Rt},findother:{"-":qt},savesettings:{"-":()=>{vt(import("./load-2090e5f4.js"))}},reliclist:{"-":()=>{vt(import("./reliclist-6456c786.js"))}},"-":{"-":()=>{vt(import("./injectNotepad-c660d59a.js"))}}},points:{"-":{"-":()=>{vt(import("./points-65881dd4.js"))}}},trade:{"-":{"-":is},sendgold:{"-":is},createsecure:{"-":is},docreatesecure:{"-":is}},titan:{"-":{"-":()=>{vt(import("./injectTitan-a3fcc2cd.js"))}}},toprated:{xp:{"-":ss},monthlyxp:{"-":ss},gold:{"-":ss},killstreak:{"-":ss},bounties:{"-":ss},risingstars:{"-":ss},arena:{"-":ss},superelites:{"-":ss},smasher:{"-":ss},globalquest:{"-":()=>{vt(import("./globalQuest-2f8ffa13.js"))}}},inventing:{viewrecipe:{"-":Pt}},tempinv:{"-":{"-":()=>{vt(import("./mailbox-ad947c6b.js"))}}},findplayer:{"-":{"-":()=>{vt(import("./injectFindPlayer-7cb1691b.js"))}}},quests:{"-":{"-":Ct},view:{"-":()=>{vt(import("./showAllQuestSteps-6f5a701e.js"))}}},items:{"-":{"-":Ct},view:{"-":()=>{vt(import("./itemsView-5c7c8172.js"))}}},creatures:{"-":{"-":Ct}},masterrealms:{"-":{"-":Ct}},realms:{"-":{"-":Ct}},relics:{"-":{"-":Ct}},shops:{"-":{"-":Ct}},scavenging:{"-":{"-":os},process:{"-":os}},temple:{"-":{"-":as}},composing:{"-":{"-":()=>{vt(import("./composing-0d3914d7.js"))}},breakdown:{"-":()=>{vt(import("./breakdown-a1a672bb.js"))}},create:{"-":()=>{vt(import("./composingCreate-c5bbc145.js"))}}},pvpladder:{"-":{"-":()=>{vt(import("./ladder-ad9c716f.js"))}}},crafting:{"-":{"-":rs}},hellforge:{"-":{"-":rs}},superelite:{"-":{"-":()=>{vt(import("./superelite-1166dcb9.js"))}}},"-":{news:{"-":Mt},viewupdatearchive:{"-":Bt},viewarchive:{"-":Bt},"-":{"-":()=>{vt(import("./unknownPage-5178a550.js"))}}},combat:{attackplayer:{"-":St}},privatemessage:{"-":{"-":()=>{vt(import("./privateMsg-a0598b27.js"))}}},buffmarket:{"-":{"-":()=>{vt(import("./injectBuffmarket-439620ef.js"))}}}}
function ls(e){Ye()||(ga("fshApp.set","screenName",e),ga("fshApp.send","screenview"))}function us(e){return new Promise((n=>{const t=document.createElement("script")
t.async=!0,t.onload=n,t.src=e,document.body.appendChild(t)}))}let ds
function fs(){const e=En("holdtext")
if(e&&!ds){const n=nt(e).match(/fallensword.com\/\?ref=(\d+)/)
n&&(ds=Number(n[1]))}return ds}const ps=[[/&m=.*/],[/&subcmd=&.*/],[/&subcmd2=&.*/],[/&[a-z_]+_id=.+/],[/&id=.+/],[/&target_player=.+/],[/&[a-z]+_username=.+/],[/\?cmd=auctionhouse.+/,"?cmd=auctionhouse"],[/&subcmd=[0-9a-f]{32}/],[/&search_active=.+/],[/&letter=.+/],[/&guild_name=.+/],[/&user=.+/],[/&[a-z_]*page=.+/],[/&prestige=.+/],[/&withdraw_amount=.+/],[/&amount=.+/],[/&tickets=.+/],[/&search=.+/],[/&target=.+/],[/&xcv=[0-9a-f]{32}/],[/\?ref=[0-9]+/]]
function ms(e,n){return e.replace(n[0],n[1]||"")}function gs(e){const n=fs()
n&&ga(e,"userId",n)}function hs(){ga("create","UA-76488113-2","auto","fsh",{siteSpeedSampleRate:10}),gs("fsh.set"),function(){const e=window.location.pathname+window.location.search,n=ps.reduce(ms,e)
ga("fshApp.set","screenName",n),ga("fsh.set","page",n)}(),ga("fsh.send","pageview")}function bs(){Xe()||(t(window.ga)&&(us("https://www.google-analytics.com/analytics.js"),window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date),ga("create","UA-76488113-1","auto","fshApp",{siteSpeedSampleRate:10}),ga("fshApp.set","appName","fshApp"),ga("fshApp.set","appVersion",`${pn.fshVer}(${pn.calfVer})`),gs("fshApp.set"),hs())}const ys={}
let ks
function ws(e,n){ks||(ks=En("foot-wrap")),ks&&Qn(ks,`<br>${e}: ${n} (${typeof n})`)}function vs(e){e&&(ys[e]=1e3*performance.now())}function Ls(e){ys[e]&&(ws(e,Math.round(1e3*performance.now()-ys[e])/1e3+"ms"),delete ys[e])}const js={}
function Ss(e,n,t){js[`${e}:${n}:${t}`]=1e3*performance.now()}function As(e,n,t){Ye()||function(e,n,t){const a=Math.round(1e3*performance.now()-js[`${e}:${n}:${t}`])/1e3
a>10&&ga("fshApp.send","timing",e,n,Math.round(a),t),Je("betaOptIn")&&ws(n,`${a}ms`)}(e,n,t)}let Ps,Ms,Cs,Bs,$s,Ts=""
function xs(e){return zn(e)||"-"}function Hs(e){const n=ia(e)
return n&&n.value||"-"}function Gs(){if(it(cs[Ps])&&it(cs[Ps][Ms])&&n(cs[Ps][Ms][Cs]))return cs[Ps][Ms][Cs]}function Os(){""!==document.location.search?(Ps=xs("cmd"),Ms=xs("subcmd"),Cs=xs("subcmd2"),["points","privatemessage"].includes(Ps)&&(Ts=`/${xs("type")}`)):(Ps=Hs('input[name="cmd"]'),Ms=Hs('input[name="subcmd"]'),Cs=Hs('input[name="subcmd2"]')),pn.cmd=Ps,pn.subcmd=Ms,pn.subcmd2=Cs,$s=`${Ps}/${Ms}/${Cs}${Ts}`,Bs=Gs()}function Ds(){n(Bs)&&(ls($s),Ss("JS Perf",$s),Bs(),As("JS Perf",$s))}async function Es(e){Ss("JS Perf","FSH.runCore"),Sn||(Sn=Date.now(),An=Math.floor(Sn/1e3)),Mn||(Pn=En("pCL"),Mn=En("pCC"),Cn=En("pCR")),Os(),await e,Wo(),fn(3,Ds),Je("playNewMessageSound")&&fn(3,st),pn.huntingMode||fn(3,Un),As("JS Perf","FSH.runCore")}function Ns(e,t){if(Ss("JS Perf","FSH.dispatch"),!n(Object.fromEntries)||!navigator.cookieEnabled)return
const o=rt("https://fallenswordhelper.github.io/fallenswordhelper/resources/beta/1524/calfSystem.css")
jn||(a(window,"error",Kn),a(window,"unhandledrejection",Xn),jn=!0),function(e,n){pn.gmInfo=Nn(decodeURIComponent(n)),pn.gmInfo?pn.fshVer=e:pn.fshVer=`${e}_native`,pn.calfVer="48"}(e,t),bs(),Es(o),As("JS Perf","FSH.dispatch")}export{Ya as $,La as A,pt as B,nt as C,ia as D,ft as E,Fe as F,U as G,at as H,Je as I,Le as J,$e as K,V as L,fa as M,Xa as N,b as O,gn as P,Eo as Q,zn as R,Xt as S,qn as T,An as U,I as V,ct as W,zt as X,Ht as Y,xt as Z,xa as _,fn as a,no as a$,ta as a0,Dn as a1,la as a2,G as a3,C as a4,e as a5,mn as a6,t as a7,Se as a8,Sn as a9,Bo as aA,i as aB,H as aC,Re as aD,Pe as aE,vt as aF,K as aG,w as aH,we as aI,ut as aJ,ve as aK,fs as aL,J as aM,yo as aN,n as aO,lt as aP,ne as aQ,be as aR,ae as aS,oe as aT,ge as aU,fe as aV,te as aW,le as aX,se as aY,Ko as aZ,_ as a_,s as aa,k as ab,Xo as ac,D as ad,dt as ae,Ze as af,o as ag,Za as ah,Ma as ai,T as aj,x as ak,it as al,Jn as am,X as an,P as ao,oa as ap,qe as aq,Qe as ar,Yn as as,l as at,Me as au,We as av,vs as aw,Ls as ax,us as ay,rt as az,Zn as b,L as b$,g as b0,pe as b1,xo as b2,To as b3,Go as b4,ie as b5,Te as b6,Ge as b7,He as b8,Oe as b9,Q as bA,y as bB,eo as bC,f as bD,d as bE,m as bF,je as bG,On as bH,q as bI,De as bJ,aa as bK,Y as bL,Z as bM,Rn as bN,O as bO,Ha as bP,M as bQ,Cn as bR,Pn as bS,h as bT,Ba as bU,jt as bV,ee as bW,as as bX,ts as bY,Tt as bZ,v as b_,xe as ba,ue as bb,me as bc,re as bd,de as be,ke as bf,Nn as bg,ce as bh,he as bi,ye as bj,Ca as bk,c as bl,u as bm,S as bn,Ce as bo,ls as bp,Mt as bq,At as br,Pt as bs,r as bt,Ie as bu,wo as bv,Ne as bw,tt as bx,N as by,Ee as bz,pn as c,Nt as c0,Gt as c1,qt as c2,Rt as c3,Ot as c4,$t as c5,It as c6,W as c7,F as c8,Be as c9,z as ca,B as cb,Oo as cc,j as cd,Dt as ce,Et as cf,Ns as cg,Ae as d,ht as e,a as f,et as g,Jt as h,Qn as i,Vt as j,p as k,Ut as l,wt as m,kt as n,Kt as o,Mn as p,ao as q,jo as r,E as s,hn as t,So as u,Lo as v,$o as w,ko as x,sa as y,En as z}
//# sourceMappingURL=calfSystem-8af1dca2.js.map
